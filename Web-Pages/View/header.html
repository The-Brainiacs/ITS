<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="stylesheet" href="../css/profile.css">
    <link rel="stylesheet" href="../css/notification.css">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- <link rel="stylesheet" href="noti.css"> -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
</head>

<style>
    @media screen and (max-width: 600px) {
        .header-right a {
            display: inline;
            font-size: smaller;
        }
    }
</style>
<div class="header">
    <a href="#default" class="logo"><img src="../Assets/ITS-logo.png" alt="" style="height:50px;"></a>
    <div class="header-right">
        <a href="profile.html"><b>Profile</b></a>
        <a href="borang.html"><b>Form</b></a>
        <a href="logbook.html"><b>Logbook</b></a>
      <a role="button" data-toggle="dropdown"><i id="icon-noti" class="fa fa-bell"></i></a>
      <ul class="dropdown-menu">
        <li class="head text-light" id="color-red">
          <div class="row">
            <div class="col-lg-12 col-sm-12 col-12">
              <span>Notifications</span>
            </div>
        </li>

        <li id=try>
        </li>

      </ul>

      <a href="http://localhost/ITS/Web-Pages/View/page1.html"><img id="icon-logout" src="../Assets/icon-logout.png"
          alt="logout"></a>
    </div>
  </div>


<script>
$(document).ready(function () {
    $("#icon-noti").click(function () {

    $.ajax({
        type: "GET",
        url: "http://localhost/ITS/notifications",
        dataType: "json",
        success: function (data, status, xhr) {
        //  alert('ok, sucessfully get the data');
        $('#try').html(
            ' '
        );

        $.each(data, function () {

            $('#try').append(
            '<li class="notification-box">' +
            '<div class="row">' +
            '<div class="col-lg-1 col-sm-1 col-1 text-center">' +
            ' </div>' +
            '<div class="col-lg-10 col-sm-10 col-10">' +
            '<strong id="title" class="color-red">' + this['title'] + '</strong>' +
            ' <div id="description" style="font-size: smaller;">' + this['description'] +
            '  <br />' +
            '</div>' +
            '<small id="date" class="text-warning">' + this['date'] + ' ' + this['time'] +
            '</small>' +
            '  </div>' +
            '  </div>' +
            '  </li>' +
            '---------------------------------------------------------------------' + '<br>'

            );

        });
        },

        error: function () {
        alert("fail to get data");
        }

    });

    });
});


</script>